# Disable Claude Code auto-update nag (managed via Homebrew)
export DISABLE_AUTOUPDATER=1
# eza config (global — theme at /etc/eza/theme.yml)
[[ ! -d ~/.config/eza ]] && export EZA_CONFIG_DIR=/etc/eza

# eza aliases
alias ls='eza --icons --group --links --blocksize'
alias ll='eza -la --icons --group --links'

# Yazi file manager
alias browse='yazi'

# Explicit key bindings (fallback if terminfo is missing)
bindkey '^?' backward-delete-char
bindkey '^H' backward-delete-char
bindkey '^[[3~' delete-char

# Starship prompt (global — per-user ~/.config/starship.toml overrides)
[[ ! -f ~/.config/starship.toml ]] && export STARSHIP_CONFIG=/etc/starship.toml
eval "$(starship init zsh)"

# Plugins (guard — async PTY conflicts with sudo su)
if [[ -o login || -z "$SUDO_USER" ]]; then
  source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
  source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

# fzf
source <(fzf --zsh)
